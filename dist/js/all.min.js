!function(){"use strict";var o=angular.module("photoFeedApp",["ngRoute","photoFeedApp.photoListPage","photoFeedApp.photoDetailsPage","photoFeedServices"]);o.config(["$routeProvider",function(o){o.otherwise({redirectTo:"/photos"})}])}(),function(){"use strict";var o=angular.module("photoFeedServices",["ngResource"]);o.factory("flickrPhotosService",["$resource",function(o){function t(o,t){return r.get(o,t)}function e(o,t){return a.get({photo_id:o},t)}var n="https://api.flickr.com/services/rest/",i="4e5708f9ab5d15dfb115bcd109c21743",r=o(n,{method:"flickr.photos.search",api_key:i,tag_mode:"all",per_page:"20",extras:"date_upload,owner_name",tags:"sunset",format:"json",nojsoncallback:"1"},{get:{method:"GET",cache:!0}}),a=o(n,{method:"flickr.photos.getInfo",api_key:i,format:"json",nojsoncallback:"1"},{get:{method:"GET",cache:!0}}),p=2,s={pageToLoad:p,getPhotos:t,getPhotoById:e};return s}])}(),function(){"use strict";var o=angular.module("photoFeedApp.photoDetailsPage",["ngSanitize","ngRoute"]);o.config(["$routeProvider",function(o){o.when("/photos/:photoId",{templateUrl:"src/app/photo-details-view/photo-details.html",controller:"PhotoDetailsController"})}]),o.controller("PhotoDetailsController",["$scope","$routeParams","$sce","flickrPhotosService","$timeout",function(o,t,e,n,i){o.photoDetailsData=n.getPhotoById(t.photoId,function(t){var n=t.photo.description._content,i=t.photo.owner.nsid,r=t.photo.owner.username,a='<a target=_blank href="https://www.flickr.com/people/'+i+'">'+r+"</a> posted a photo";o.PhotoDescription=e.trustAsHtml(n||a)}),i(function(){picturefill()},1e3)}])}(),function(){"use strict";var o=angular.module("photoFeedApp.photoListPage",["ngSanitize","infinite-scroll","ngRoute"]);o.config(["$routeProvider",function(o){o.when("/photos",{templateUrl:"src/app/photo-list-view/photo-list.html",controller:"PhotoListController"})}]),o.controller("PhotoListController",["$scope","flickrPhotosService","$timeout",function(o,t){o.infiniteBusy=!1,o.photoListData=t.getPhotos({},function(e){function n(e){o.infiniteBusy||(o.infiniteBusy=!0,i(e,!0),t.pageToLoad++)}function i(e,n){t.getPhotos({page:e},function(t){var e=t.photos.photo;o.photoList=o.photoList.concat(e),n&&(o.infiniteBusy=!1)})}if(o.photoList=e.photos.photo,t.pageToLoad>2)for(var r=2;r<t.pageToLoad;r++)i(r,!1);o.nextPage=function(){t.pageToLoad<e.photos.pages&&n(t.pageToLoad)}})}])}();